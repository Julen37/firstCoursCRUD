{% extends 'base.html.twig' %}

{% block title %}Home Page{% endblock %}

{% block body %}

{# affichage du message flash quand on submit le form #}
{% for message in app.flashes('notice') %}
    <div class="alert alert-success">
        {{message}}
    </div>
{% endfor %}

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

{# tableau qui montre les données qu'on a recu  #}
<table class="table table-dark table-striped d-flex p-5 flex-column ">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Content</th>
        </tr>    
    </thead>
    <tbody>
    {% for data in datas %} {# pour chaque data dans les datas recuperé par le formulaire#}
        <tr>
            <th scope="row">{{data.id}}</th> {# récupere l'id, cf controller route '/' #}
            <td>{{data.title}}</td>
            <td>{{data.content}}</td>
            <td>
                <a href="{{ path('app_home_page_updateData',{'id': data.id}) }}" class="btn btn-warning">Modify</a>
                <a href="{{ path('app_home_page_deleteData',{'id': data.id}) }}" class="btn btn-danger">Delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
